function sortPanelBarElements(){$(".panelBar-widget--undraggable").sort(function(e,a){return $(a).find(".name").text()<$(e).find(".name").text()?1:-1}).appendTo(".panelBar-widget__list")}function setPanelBarElements(){var e=generatePanelBarConfig();$.post(setPanelBarURL,e)}function generatePanelBarConfig(){var e={elements:[]};return panelBarList.find(":checked").each(function(){var a=$(this),t=a.parent().siblings(".controls").find(".float");e.elements.push({element:a.val(),float:"right"==t.attr("data-float")?"right":null})}),e}var panelBarList=$(".panelBar-widget__list"),sortable=Sortable.create(panelBarList[0],{forceFallback:!0,filter:".panelBar-widget--undraggable",chosenClass:"panelBar-widget__chosen",ghostClass:"panelBar-widget__ghost",onUpdate:setPanelBarElements});panelBarList.find("input").change(function(e){var a=$(this),t=a.parent(),n=t.parent();n.toggleClass("panelBar-widget--undraggable");var r=panelBarList.find(":checked").not(a),l=r.last().parent().parent();t.siblings(".controls").find(".float").attr("data-float",a.is(":checked")?"left":""),n.insertAfter(l),a.is(":checked")||sortPanelBarElements(),setPanelBarElements()}),panelBarList.find(".float > a").click(function(e){e.preventDefault();var a=$(this);return a.parent().attr("data-float",0===a.index()?"left":"right"),setPanelBarElements(),!1}),panelBarList.prev("h2").find("a").click(function(e){return e.preventDefault(),$.post($(this).attr("href")),location.reload(),!1});