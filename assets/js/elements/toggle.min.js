var PanelBarToggle=function(t){var e=this;this.button=t.children[0],this.droplinks=t.querySelectorAll(".panelbar-drop__list > a"),this.icon=this.button.children[0],this.text=this.button.children[1],this.status="Visible"===this.text.innerHTML?"hide":"sort",this.init=function(){if("hide"==e.status)e.button.addEventListener("click",e.click);else{e.button.style.cursor="default";var t;for(t=0;t<e.droplinks.length;t++)e.droplinks[t].setAttribute("data-num",t+1),e.droplinks[t].addEventListener("click",function(t){e.click(t)})}},this.click=function(t){t.preventDefault(),"sort"===e.status?(removeClass(e.icon,"fa-toggle-off"),addClass(e.icon,"fa-toggle-on"),e.text.innerHTML="Visible"):(removeClass(e.icon,"fa-toggle-on"),addClass(e.icon,"fa-toggle-off"),e.text.innerHTML="Invisible"),e.request(t.target.getAttribute("data-num"))},this.request=function(t){var n=siteURL+"/panel/api/pages/"+e.status+"/"+currentURI,i=new XMLHttpRequest;i.open("POST",n,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&location.reload()},i.send("to="+t)},this.init()};if("querySelector"in document&&"addEventListener"in window)var pbToggle=new PanelBarToggle(document.querySelector(".panelbar--toggle"));