var PanelbarIframe=function(){var e=this;this.link=null,this.href=null,this.wrapper=document.querySelector(".panelbar-return__iframe"),this.iframe=this.wrapper.children[0],this.returnBtn=document.querySelector(".panelbar-return__btn"),this.panelbar=document.getElementById("panelbar"),this.elements=document.querySelectorAll(".panelbar__bar > div"),this.position=null,this.activate=function(n){e.link=n,e.href=e.link.href,e.position=hasClass(e.panelbar,"panelbar--top")?"top":"bottom",e.clearPanelbar(),e.buildOverlay(),e.clearPosition(),e.load()},this.deactivate=function(){e.restorePanelbar(),e.removeOverlay(),e.restorePosition()},this.load=function(n){e.iframe.src=e.href},this.buildOverlay=function(){e.returnBtn.style.display="inline-block",e.wrapper.style.display="block",document.body.style.overflow="hidden",e.returnBtn.addEventListener("click",e.deactivate)},this.removeOverlay=function(){e.returnBtn.style.display="none",e.wrapper.style.display="none",document.body.style.overflow="auto",e.returnBtn.removeEventListener("click",e.deactivate)},this.clearPanelbar=function(){e._elements("none")},this.restorePanelbar=function(){e._elements("inline-block")},this._elements=function(n){var t;for(t=0;t<e.elements.length;t++)e.elements[t].style.display=n},this.clearPosition=function(){removeClass(e.panelbar,"panelbar--bottom"),addClass(e.panelbar,"panelbar--top")},this.restorePosition=function(){removeClass(e.panelbar,"panelbar--top"),addClass(e.panelbar,"panelbar--"+e.position)}};if("querySelector"in document&&"addEventListener"in window){var iframelinks=document.querySelectorAll(".panelbar--add a, .panelbar--edit a, .panelbar--toggle a, .panelbar-fileviewer__item, .panelbar-fileviewer__more"),panelbarIframe=new PanelbarIframe,i;for(i=0;i<iframelinks.length;i++)iframelinks[i].addEventListener("click",function(e){e.preventDefault(),panelbarIframe.activate(this)})}