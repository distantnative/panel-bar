!function(e){var t="addEventListener",n="removeEventListener",o=function(e){a(),h.dom.buttons.all.style.display=e?"inline-block":"none",h.dom.wrapper.style.display=e?"block":"none",document.body.style.overflow=e?"hidden":"auto";var o=e?t:n;h.dom.buttons["return"][o]("click",h.show),h.dom.buttons.refresh[o]("click",s)},a=function(){var e=h.status.modal,t=h.dom.wrapper;cl[e?"add":"remove"](t,"panelBar-iframe__iframe--modal"),cl[e?"remove":"add"](t,"panelBar-iframe__iframe--full")},i=function(){var e=h.dom.iframe.contentDocument,t=e.querySelector(".modal-content");h.dom.wrapper.style.height="calc("+t.scrollHeight+"px + 3em)"},r=function(o){var a=h.dom.elements,i;for(i=0;i<a.length;i++)a[i].style.display=o?"none":"inline-block";var r=e.dom.controls,l=r.visible.children[0];r.position.style.display=o?"none":"",cl[o?"add":"remove"](l,"fa-thumb-tack"),cl[o?"remove":"add"](l,"fa-times-circle"),r.visible[o?t:n]("click",d)},l=function(t){var n=e.status.position;e[t?"top":h.status.position](),h.status.position=t?n:null},s=function(){location.reload()},d=function(){location.href=h.dom.iframe.src,e.show()},c=function(){h.dom.iframe.addEventListener("load",function(){var e=h.dom.iframe.contentDocument.querySelector("body.app");void 0!==typeof e?(u(""),h.status.modal&&i()):setTimeout(d,4e3)}),setTimeout(m,1500)},m=function(){""!==h.dom.loading.innerHTML&&(h.loading.innerHTML=h.message.loadingFailed,setTimeout(function(){location.href=url},2e3))},u=function(e){h.dom.loading.innerHTML=e},p=e.dom,f=p.wrapper.querySelector(".panelBar-iframe__iframe"),v=p.bar.querySelector(".panelBar-iframe__btns");e.iframe={dom:{wrapper:f,iframe:f.children[1],loading:f.children[0],elements:p.wrapper.querySelectorAll(".panelBar__bar > div"),buttons:{all:v,"return":v.children[0],refresh:v.children[1]}},status:{modal:!1,active:!1,position:null,supported:!0},message:{loadingFailed:"Seems like something is blocking access to the panel inside an iframe. Redirecting…"},bind:function(t,n){var o=e.dom.bar.querySelectorAll(t),a;for(a=0;a<o.length;a++)o[a].addEventListener("click",function(e){h.status.supported&&(e.preventDefault(),h.status.modal=n,h.show(this.href))})},show:function(e){h.status.active=/^(f|ht)tps?:\/\//i.test(e),l(h.status.active),r(h.status.active),o(h.status.active),h.load(e)},load:function(e){u("Loading…"),h.dom.iframe.src=h.status.active?e:"",c()},isSupported:function(){var e=document.createElement("iframe");e.id="panelBarJStestFrame",e.src=siteURL+"/panel/",e.style.display="none",document.body.appendChild(e),e.addEventListener("load",function(){var t=e.contentDocument.querySelector("body.app");void 0!==typeof t&&document.body.removeChild(e)}),setTimeout(function(){h.status.supported=null===document.getElementById("panelBarJStestFrame")},1e3)}};var h=e.iframe}(panelBar),panelBar.iframe.isSupported();