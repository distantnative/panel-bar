var panelBarIframe=function(){var e=this;this.active=!1,this.position=null,this.wrapper=panelBar.wrapper.querySelector(".panelBar-iframe__iframe"),this.iframe=this.wrapper.children[1],this.loading=this.wrapper.children[0],this.buttons=panelBar.bar.querySelector(".panelBar-iframe__btns"),this.returnBtn=this.buttons.children[0],this.refreshBtn=this.buttons.children[1],this.elements=panelBar.wrapper.querySelectorAll(".panelBar__bar > div"),this.add=function(n){var t=panelBar.bar.querySelectorAll(n),i;for(i=0;i<t.length;i++)t[i].addEventListener("click",function(n){n.preventDefault(),e.show(this.href)})},this.show=function(n){e.active=/^(f|ht)tps?:\/\//i.test(n),e.setPosition(e.active),e.setPanelbar(e.active),e.setOverlay(e.active),e.load(n)},this.setOverlay=function(n){e.buttons.style.display=n?"inline-block":"none",e.wrapper.style.display=n?"block":"none",document.body.style.overflow=n?"hidden":"auto";var t=n?"addEventListener":"removeEventListener";e.returnBtn[t]("click",e.show),e.refreshBtn[t]("click",e.refresh)},this.setPanelbar=function(n){var t;for(t=0;t<e.elements.length;t++)e.elements[t].style.display=n?"none":"inline-block";panelBar.posBtn.style.display=n?"none":"",addClass(panelBar.visBtn.children[0],"fa-"+(n?"thumb-tack":"times-circle")),removeClass(panelBar.visBtn.children[0],"fa-"+(n?"times-circle":"thumb-tack")),panelBar.visBtn[n?"addEventListener":"removeEventListener"]("click",e.redirect)},this.setPosition=function(n){var t=panelBar.position;panelBar[n?"top":e.position](),e.position=n?t:null},this.load=function(n){e.loading.innerHTML="Loading…",e.iframe.src=e.active?n:"",e.iframe.addEventListener("load",function(){var n=e.iframe.contentDocument.querySelector("body.app");void 0!==typeof n&&(e.loading.innerHTML="")}),setTimeout(function(){""!==e.loading.innerHTML&&(e.loading.innerHTML="Seems like something is blocking access to the panel inside an iframe. Redirecting…",setTimeout(function(){location.href=n},2e3))},3500)},this.refresh=function(){location.reload()},this.redirect=function(){location.href=e.iframe.src,panelBar.show()}};if("querySelector"in document&&"addEventListener"in window)var pbIframe=new panelBarIframe;