var panelBarIframe=function(){var e=this;this.active=!1,this.position=null,this.supported=!0,this.wrapper=panelBar.wrapper.querySelector(".panelBar-iframe__iframe"),this.iframe=this.wrapper.children[1],this.loading=this.wrapper.children[0],this.buttons=panelBar.bar.querySelector(".panelBar-iframe__btns"),this.returnBtn=this.buttons.children[0],this.refreshBtn=this.buttons.children[1],this.elements=panelBar.wrapper.querySelectorAll(".panelBar__bar > div"),this.add=function(t){var n=panelBar.bar.querySelectorAll(t),i;for(i=0;i<n.length;i++)n[i].addEventListener("click",function(t){e.supported&&(t.preventDefault(),e.show(this.href))})},this.show=function(t){e.active=/^(f|ht)tps?:\/\//i.test(t),e.setPosition(e.active),e.setPanelbar(e.active),e.setOverlay(e.active),e.load(t)},this.setOverlay=function(t){e.buttons.style.display=t?"inline-block":"none",e.wrapper.style.display=t?"block":"none",document.body.style.overflow=t?"hidden":"auto";var n=t?"addEventListener":"removeEventListener";e.returnBtn[n]("click",e.show),e.refreshBtn[n]("click",e.refresh)},this.setPanelbar=function(t){var n;for(n=0;n<e.elements.length;n++)e.elements[n].style.display=t?"none":"inline-block";panelBar.posBtn.style.display=t?"none":"",addClass(panelBar.visBtn.children[0],"fa-"+(t?"thumb-tack":"times-circle")),removeClass(panelBar.visBtn.children[0],"fa-"+(t?"times-circle":"thumb-tack")),panelBar.visBtn[t?"addEventListener":"removeEventListener"]("click",e.redirect)},this.setPosition=function(t){var n=panelBar.position;panelBar[t?"top":e.position](),e.position=t?n:null},this.load=function(t){e.loading.innerHTML="Loading…",e.iframe.src=e.active?t:"",e.iframe.addEventListener("load",function(){var t=e.iframe.contentDocument.querySelector("body.app");void 0!==typeof t&&(e.loading.innerHTML="")}),setTimeout(function(){""!==e.loading.innerHTML&&(e.loading.innerHTML="Seems like something is blocking access to the panel inside an iframe. Redirecting…",setTimeout(function(){location.href=t},2e3))},1500)},this.refresh=function(){location.reload()},this.redirect=function(){location.href=e.iframe.src,panelBar.show()},this.support=function(){var t=document.createElement("iframe");t.id="panelBarJStestFrame",t.src=siteURL+"/panel/",t.style.display="none",document.body.appendChild(t),t.addEventListener("load",function(){var e=t.contentDocument.querySelector("body.app");void 0!==typeof e&&document.body.removeChild(t)}),setTimeout(function(){e.supported=null===document.getElementById("panelBarJStestFrame")},1e3)},e.support()};if("querySelector"in document&&"addEventListener"in window)var pbIframe=new panelBarIframe;