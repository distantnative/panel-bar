var PanelbarState=function(){var e=this;this.validTime=864e5,e.init=function(){e.support()&&(e.expired()?e.reset():e.restore(),e.save(),panelbar.controls.addEventListener("click",e.save))},this.save=function(){localStorage.setItem("panelbar.expires",Date.now()+e.validTime),localStorage.setItem("panelbar.position",panelbar.position),localStorage.setItem("panelbar.visible",panelbar.visible)},this.restore=function(){e.setPosition(),e.setVisibility()},this.reset=function(){localStorage.removeItem("panelbar.expires"),localStorage.removeItem("panelbar.position"),localStorage.removeItem("panelbar.visibile")},this.setPosition=function(){"top"===localStorage.getItem("panelbar.position")?panelbar.top():panelbar.bottom()},this.setVisibility=function(){"true"===localStorage.getItem("panelbar.visible")?panelbar.show():panelbar.hide()},this.expired=function(){return Date.now()>localStorage.getItem("panelbar.expires")},this.support=function(){try{var e="__storage_test__";return localStorage.setItem(e,e),localStorage.getItem(e),localStorage.removeItem(e),!0}catch(t){return!1}}},pbState=new PanelbarState;pbState.init();