var PanelbarState=function(){var a=this;this.validTime=864e5,a.init=function(){a.support()?(a.expired()?a.reset():a.restore(),a.save(),panelbar.controls.addEventListener("click",a.save)):console.log("PanelBar: localStorage not supported")},this.save=function(){localStorage["panelbar.expires"]=Date.now()+a.validTime,localStorage["panelbar.position"]=a.getPosition(),localStorage["panelbar.visibility"]=a.getVisibility()},this.restore=function(){a.setPosition(),a.setVisibility()},this.reset=function(){localStorage.removeItem("panelbar.expires"),localStorage.removeItem("panelbar.position"),localStorage.removeItem("panelbar.visibility")},this.getPosition=function(){return hasClass(panelbar.wrapper,"panelbar--top")?"top":"bottom"},this.setPosition=function(){var a=localStorage["panelbar.position"];removeClass(panelbar.wrapper,"panelbar--"+("top"===a?"bottom":"top")),addClass(panelbar.wrapper,"panelbar--"+a)},this.getVisibility=function(){return hasClass(panelbar.panelbar,"panelbar__bar--hidden")?"hide":"show"},this.setVisibility=function(){"show"===localStorage["panelbar.visibility"]?removeClass(panelbar.panelbar,"panelbar__bar--hidden"):addClass(panelbar.panelbar,"panelbar__bar--hidden")},this.expired=function(){return Date.now()>localStorage["panelbar.expires"]},this.support=function(){try{return window.localStorage&&null!==window.localStorage}catch(a){return!1}}},pbState=new PanelbarState;pbState.init();