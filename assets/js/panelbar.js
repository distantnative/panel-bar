var cl=function(e){var t={has:function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},add:function(e,n){t.has(e,n)||(e.className+=" "+n)},remove:function(e,n){var o=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(t.has(e,n)){for(;o.indexOf(" "+n+" ")>=0;)o=o.replace(" "+n+" "," ");e.className=o.replace(/^\s+|\s+$/g,"")}}};return t}(),panelBar=function(e){var t={};t.elements={};var n=document.getElementById("panelBar-controls");t.dom={wrapper:document.getElementById("panelBar"),bar:document.getElementById("panelBar-main"),controls:{all:n,position:n.children[0],visible:n.children[1]}},t.status={visible:!cl.has(t.dom.bar,"panelBar--hidden"),position:cl.has(t.dom.wrapper,"panelBar--top")?"top":"bottom"},t.init=function(){r()?o():t.deactivate()};var o=function(){t.dom.controls.position.addEventListener("click",t.togglePosition),t.dom.controls.visible.addEventListener("click",t.toggleVisibility)};t.deactivate=function(){t.dom.controls.all.remove(),t.dom.bar.style.paddingRight=0,cl.remove(t.dom.bar,"panelBar--hidden")};var a=function(e){t.status.position=e?"top":"bottom",cl.remove(t.dom.wrapper,"panelBar--"+(e?"bottom":"top")),cl.add(t.dom.wrapper,"panelBar--"+t.status.position)};t.top=function(){a(!0)},t.bottom=function(){a(!1)},t.togglePosition=function(){a("top"!==t.status.position)};var i=function(e){t.status.visible=e,cl[e?"remove":"add"](t.dom.wrapper,"panelBar--hidden")};t.show=function(){i(!0)},t.hide=function(){i(!1)},t.toggleVisibility=function(){i(!t.status.visible)};var r=function(){return"querySelector"in document&&"addEventListener"in window};return t}();panelBar.init(),function(e){var t=function(t){t=t||event,t.altKey&&!n()&&(shortcut=o.bindings[t.keyCode])&&(shortcut(),void 0!==e.state&&e.state.update())},n=function(){return void 0!==e.overlay&&e.overlay.status.active===!0};e.keys={init:function(){document.addEventListener("keydown",t)},bindings:{88:function(){e.toggleVisibility()},189:function(){e.togglePosition()},38:function(){e.top()},40:function(){e.bottom()}}};var o=e.keys}(panelBar),panelBar.keys.init(),function(e){var t=e.dom.wrapper,n=function(){var n=e.status.visible;n||e.show(),cl.add(t,"panelBar--mobile"),l.data.mobile=a(),cl.remove(t,"panelBar--mobile"),l.data.desktop=a(),n||e.hide(),o()},o=function(){var n=t.offsetWidth;e.status.visible||(e.show(),n=t.offsetWidth,e.hide()),n<l.data.desktop?cl.add(t,"panelBar--mobile"):cl.remove(t,"panelBar--mobile"),i()},a=function(){var t,n=e.dom.controls.all.offsetWidth+20,o=e.dom.bar.querySelectorAll(".panelBar-element");for(t=0;t<o.length;t++)n+=o[t].offsetWidth;return n},i=function(){var t,n=e.dom.bar.querySelectorAll(".panelBar-mDrop");for(t=0;t<n.length;t++){cl.remove(n[t],"panelBar-element--overlap");var o=n[t].getBoundingClientRect();o.left<0?cl.add(n[t],"panelBar-element--overlap"):o.right<0&&cl.add(n[t],"panelBar-element--overlap")}},r=function(){return"querySelector"in document&&"addEventListener"in window};e.responsive={data:{resize:null,mobile:null,desktop:null},init:function(){r&&(n(),setTimeout(n,300),window.addEventListener("resize",o))}};var l=e.responsive}(panelBar),panelBar.responsive.init(),function(e){var t=function(){r.set("expires",Date.now()+864e5),r.set("position",e.status.position),r.set("visible",e.status.visible?"show":"hide")},n=function(){e[r.get("position")](),e[r.get("visible")]()},o=function(){r.unset("expires"),r.unset("position"),r.unset("visibile")},a=function(){return Date.now()>r.get("expires")},i=function(){try{var e="__panelBar_storage_test__";return localStorage.setItem(e,e),localStorage.getItem(e),localStorage.removeItem(e),!0}catch(e){return!1}};e.state={init:function(){i()&&(a()?o():n(),t(),e.dom.controls.all.addEventListener("click",t))},update:t,get:function(e){return localStorage.getItem("panelBar."+e)},set:function(e,t){return localStorage.setItem("panelBar."+e,t)},unset:function(e){return localStorage.removeItem("panelBar."+e)}};var r=e.state}(panelBar),panelBar.state.init();