var PanelbarState=function(){var e=this;this.controls=document.getElementById("panelbar_controls"),this.validTime=864e5,e.init=function(){e.support()?(e.expired()?e.reset():e.restore(),e.save(),e.controls.addEventListener("click",e.save)):console.log("PanelBar: localStorage not supported")},this.save=function(){localStorage["panelbar.expires"]=Date.now()+e.validTime,localStorage["panelbar.position"]=e.getPosition(),localStorage["panelbar.visibility"]=e.getVisibility()},this.restore=function(){e.setPosition(),e.setVisibility()},this.reset=function(){localStorage.removeItem("panelbar.expires"),localStorage.removeItem("panelbar.position"),localStorage.removeItem("panelbar.visibility")},this.getPosition=function(){return hasClass(wrapper,"panelbar--top")?"top":"bottom"},this.setPosition=function(){var e=localStorage["panelbar.position"];removeClass(wrapper,"panelbar--"+("top"===e?"bottom":"top")),addClass(wrapper,"panelbar--"+e)},this.getVisibility=function(){return hasClass(panelbar,"panelbar__bar--hidden")?"hide":"show"},this.setVisibility=function(){"show"===localStorage["panelbar.visibility"]?removeClass(panelbar,"panelbar__bar--hidden"):addClass(panelbar,"panelbar__bar--hidden")},this.expired=function(){return Date.now()>localStorage["panelbar.expires"]},this.support=function(){try{return window.localStorage&&null!==window.localStorage}catch(e){return!1}}},pbState=new PanelbarState;pbState.init();